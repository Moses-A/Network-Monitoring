#!/usr/bin/env python2
# written by Moses Arocha

import optparse
import socket
import os
import argparse
import pickle

def ProgramInstaller():
	os.system("sudo apt-get install nmap && sudo apt-get install xprobe2 && sudo apt-get install tshark")
	
def OSScanner(TargetHost):
	OSD = os.system("sudo xprobe2 "+TargetHost+" > OSScan.txt")
	


def main():
	extensions = optparse.OptionParser('usage%prog -H <Target Host> -P <Target Port>')
	extensions.add_option('-H', '--Host', dest='TargetHost', type='string', help='specify target host')
	extensions.add_option('-P', '--Port', dest='TargetPort', type='string', help='specify target port')
	(options, args) = extensions.parse_args()
	TargetHost = options.TargetHost
	TargetPorts = str(options.TargetPort).split(',')
	if (TargetHost == None) | (TargetPorts[0] == None):
		print extensions.usage
		exit(0)
	ProgramInstaller()
	for TargetPort in TargetPorts:
		OSScanner(TargetHost)

if __name__ == '__main__':
	main()
